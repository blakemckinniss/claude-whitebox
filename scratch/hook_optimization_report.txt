================================================================================
HOOK OPTIMIZATION ANALYSIS
================================================================================

1. EVENT ASSIGNMENT OPTIMIZATION
--------------------------------------------------------------------------------

âœ… MOVE TO PostToolUse (3 hooks):
  â€¢ detect_batch
    Reason: Reactive - doesn't need to run before tools
  â€¢ sanity_check
    Reason: Reactive - doesn't need to run before tools
  â€¢ auto_commit_on_complete
    Reason: Reactive - doesn't need to run before tools

âœ… MOVE TO PreToolUse (1 hooks):
  â€¢ force_playwright
    Matcher: Bash
    Reason: Bash-specific - add matcher

âœ“ KEEP IN UserPromptSubmit (17 hooks):
  Critical hooks: 3


2. CACHING OPPORTUNITIES
--------------------------------------------------------------------------------

ðŸ“‚ synapse_fire.py
  Files read: .claude/memory/synapses.json, .claude/memory/lessons.md
  Cache strategy: session_id
  Expected benefit: 3-5Ã— faster (reads 2 files every prompt)

ðŸ“‚ scratch_context_hook.py
  Files read: scratch/*.py
  Cache strategy: file_mtime
  Expected benefit: 2-3Ã— faster (globs scratch/ every prompt)

ðŸ“‚ detect_confidence_penalty.py
  Files read: .claude/memory/anti_patterns.md
  Cache strategy: session_id
  Expected benefit: 2Ã— faster

ðŸ“‚ check_knowledge.py
  Files read: .claude/memory/knowledge_checks.json
  Cache strategy: session_id
  Expected benefit: 2Ã— faster


================================================================================
OPTIMIZATION SUMMARY
================================================================================

Current: 21 UserPromptSubmit hooks
After optimization: 17 UserPromptSubmit hooks
Reduction: 4 hooks moved to more appropriate events
Cacheable hooks: 4

Estimated speedup: 2-3Ã— (1050ms â†’ 350-500ms)